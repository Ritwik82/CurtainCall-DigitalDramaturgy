<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CurtainCall: A Digital Dramaturgy</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@300;400&display=swap" rel="stylesheet">
</head>
<body>
    <header class="stage-header">
        <h1 class="title-act">The Cypher of Avon</h1>
        <p class="subtitle-scene">A spectacle of logic and drama</p>
    </header>

    <main class="main-stage">
        <section id="prologue" class="scene">
            <h2 class="scene-title">Act I: The Star-Crossed Scroll</h2>
            <p class="dialogue">"A messenger leaves a scroll 'thirteen times cursed'. It reads:"</p>
            <div class="cipher-box">YAZ{Gb_or_be_abg_gb_or_onfu}</div>
            <p class="dialogue source">Hint: Rotate the wheel to find the truth.</p>
            <button class="action-button" data-target="act1">Enter the Palace</button>
        </section>

        <section id="act1" class="scene hidden">
            <h2 class="scene-title">Act II: The Sentinel’s Logic</h2>
            <p class="dialogue">The Gatekeeper demands a 'Universal Truth' to pass.</p>
            <div class="login-sim">
                <input type="text" placeholder="Username (Admin?)" id="gatekeeper-user">
                <input type="password" placeholder="Password" disabled>
                <div class="character-spotlight" data-character="gatekeeper">Speak to Gatekeeper</div>
            </div>
            <button class="action-button" data-target="act2">Advance to the Gallery</button>
        </section>

        <section id="act2" class="scene hidden">
            <h2 class="scene-title">Act III: The Stained Portrait</h2>
            <p class="dialogue">Lady Portia's portrait hangs here. Hidden within its invisible traits lies the key.</p>
            <div class="portrait-frame">
                <div class="character-spotlight" data-character="portia">Inspect Portrait Metadata</div>
            </div>
            <button class="action-button" data-target="epilogue">The Alchemist's Lab</button>
        </section>

        <section id="epilogue" class="scene hidden">
            <h2 class="scene-title">Act IV: The Alchemist’s Vigor</h2>
            <p class="dialogue">The final brew is complex. To read the secret, one must deconstruct the potion's soul.</p>
            <div class="character-spotlight" data-character="alchemist">Examine Binary Potion</div>
            <hr>
            <div class="flag-validator">
                <h3>Submit Final Flag</h3>
                <input type="text" id="flagInput" placeholder="LNM{...}">
                <button class="action-button" onclick="checkFlag()">Verify Flag</button>
                <p id="feedback"></p>
            </div>
        </section>
    </main>

    <footer class="stage-footer">
        <p>&copy; 2026 CurtainCall Productions | LNM Challenge Series</p>
    </footer>

    <script src="js/script.js"></script>
</body>
</html>