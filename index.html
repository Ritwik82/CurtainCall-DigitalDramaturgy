<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CurtainCall: A Digital Dramaturgy</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@300;400&display=swap" rel="stylesheet">
</head>
<body>
    <header class="stage-header">
        <h1 class="title-act">CurtainCall: A Digital Dramaturgy</h1>
        <p class="subtitle-scene">"All the world's a stage, and all the men and women merely players."</p>
    </header>

    <main class="main-stage">
        <section id="prologue" class="scene">
            <h2 class="scene-title">Act I: The Star-Crossed Scroll</h2>
            <p class="dialogue">
                The air grew cold as a cowled messenger departed into the fog of Bit-stratford, leaving only the faint scent of ozone and a singular scrap of weathered parchment pinned to the gates. This is no ordinary correspondence; the ink seems to shimmer with a celestial light, yet the words are twisted into a shape no scholar can immediately recognize. 
            </p>
            <p class="dialogue">
                "Thirteen times I have turned the wheel," the messenger was heard to whisper, "and thirteen times the truth was masked by the stars." To find your way into the inner sanctum, you must untangle this celestial knot.
            </p>
            <div class="cipher-box">YAZ{Gb_or_be_abg_gb_or_onfu}</div>
            <button class="action-button" data-target="act1">Cross the Threshold</button>
        </section>

        <section id="act1" class="scene hidden">
            <h2 class="scene-title">Act II: The Sentinel’s Logic</h2>
            <p class="dialogue">
                Beyond the gates lies the Vault of Archives, a place where the history of the realm is stored in silent, iron-bound ledgers. Standing before the final door is the Sentinel—a figure of stone and shadow who has not blinked in a century. He does not seek a key of brass, nor a word of power spoken aloud. 
            </p>
            <p class="dialogue">
                "The archive only opens for the Absolute," he intones, his voice like grinding tectonic plates. "Present a truth that cannot be denied, a logic so fundamental that it bypasses the very concept of a lock. Provide an identity that is, by its own nature, always valid."
            </p>
            <div class="login-sim">
                <input type="text" placeholder="Declare your Identity..." id="gatekeeper-user">
                <input type="password" placeholder="The Silent Passphrase" disabled>
                <div class="character-spotlight" data-character="gatekeeper">Confront the Sentinel</div>
            </div>
            <button class="action-button" data-target="act2">Proceed to the Gallery</button>
        </section>

        <section id="act2" class="scene hidden">
            <h2 class="scene-title">Act III: The Stained Portrait</h2>
            <p class="dialogue">
                You find yourself in the Long Gallery, where the ancestors of the crown watch with judgmental eyes. The center of the hall is dominated by a portrait of Lady Portia. Her gaze is uncanny; it seems to pierce through the physical world and into the digital void. 
            </p>
            <p class="dialogue">
                Legend tells of an alchemist who, fearing the theft of his greatest discovery, chose not to hide it behind a painting, but within the very essence of the pigments themselves. To the common observer, it is but oil and canvas; to the Master of Forensics, it is a vessel of hidden properties, containing data that exists only in the margins of its own creation.
            </p>
            <div class="portrait-frame">
                <div class="character-spotlight" data-character="portia">Search for Hidden Traits</div>
            </div>
            <button class="action-button" data-target="epilogue">Seek the Alchemist</button>
        </section>

        <section id="epilogue" class="scene hidden">
            <h2 class="scene-title">Act IV: The Alchemist’s Vigor</h2>
            <p class="dialogue">
                The final scene unfolds in a laboratory lit by the flicker of emerald flames. A cauldron bubbles with a "Binary Potion," its surface reflecting sequences of ones and zeros rather than the face of the onlooker. This is the heart of the mystery, a compiled essence that protects the ultimate secret of the kingdom.
            </p>
            <p class="dialogue">
                The Alchemist is gone, leaving only his work. To claim the final flag, you must look beyond the bubbling surface. You must deconstruct the potion's structure, unweaving the compiled spells to find the raw strings of reality that remain embedded in its soul.
            </p>
            <div class="character-spotlight" data-character="alchemist">Inspect the Potion's Strings</div>
            <hr>
            <div class="flag-validator">
                <h3>The Grand Final Submission</h3>
                <p class="dialogue source">Deliver the final revelation to bring the play to its close.</p>
                <input type="text" id="flagInput" placeholder="LNM{Enter_The_Truth}">
                <button class="action-button" onclick="checkFlag()">Drop the Curtain</button>
                <p id="feedback"></p>
            </div>
        </section>
    </main>

    <footer class="stage-footer">
        <p>&copy; 2026 CurtainCall Productions | A Digital Dramaturgy CTF</p>
    </footer>

    <script src="js/script.js"></script>
</body>
</html>